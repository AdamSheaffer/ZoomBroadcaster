{"version":3,"sources":["webpack:///./src/views/Login.vue?ccbc","webpack:///./src/views/Login.vue?d707","webpack:///./node_modules/quasar/src/components/spinner/QSpinnerGears.js","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue?7b2b"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","message","staticRenderFns","Vue","extend","name","mixins","mixin","render","h","class","classes","on","qListeners","attrs","focusable","cSize","data","mounted","$q","loading","show","spinner","QSpinnerGears","login","methods","component"],"mappings":"yGAAA,yBAAoe,EAAG,G,yCCAve,IAAI,EAAS,WAAa,IAAIA,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,gCAAgC,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,cAAcL,EAAG,QAC7MM,EAAkB,G,wECGPC,SAAIC,OAAO,CACxBC,KAAM,gBAENC,OAAQ,CAACC,QAETC,OALwB,SAKhBC,GACN,OAAOA,EAAE,MAAO,CACdX,YAAa,YACbY,MAAOjB,KAAKkB,QACZC,GAAI,kBAAKnB,KAAKoB,YACdC,MAAO,CACLC,UAAW,QACX,MAAStB,KAAKuB,MACd,OAAUvB,KAAKuB,MACf,QAAW,cACX,oBAAuB,WACvB,MAAS,+BAEV,CACDP,EAAE,IAAK,CACLK,MAAO,CACL,UAAa,uBAEd,CACDL,EAAE,OAAQ,CACRK,MAAO,CACL,EAAK,w5BACL,KAAQ,iBAET,CACDL,EAAE,mBAAoB,CACpBK,MAAO,CACL,cAAiB,YACjB,KAAQ,SACR,KAAQ,WACR,GAAM,UACN,IAAO,KACP,YAAe,oBAKvBL,EAAE,IAAK,CACLK,MAAO,CACL,UAAa,sCAEd,CACDL,EAAE,OAAQ,CACRK,MAAO,CACL,EAAK,w5BACL,KAAQ,iBAET,CACDL,EAAE,mBAAoB,CACpBK,MAAO,CACL,cAAiB,YACjB,KAAQ,SACR,KAAQ,UACR,GAAM,WACN,IAAO,KACP,YAAe,yBCrD7B,GACEG,KADF,WAEI,MAAO,CACLhB,QAAS,OAIbiB,QAPF,WAQIzB,KAAK0B,GAAGC,QAAQC,KAAK,CACnBC,QAASC,IAEX9B,KAAK+B,SAGPC,QAAS,CACP,MADJ,WACA,oLACA,iBADA,cACA,EADA,OAEA,GACA,wBACA,+BACA,gBALA,SAQA,wBARA,UAQA,EARA,OAUA,SAVA,kCAWA,yBAXA,eAYA,UACA,mGACA,oBAdA,4CAkBA,iBAlBA,WAkBA,EAlBA,OAoBA,aApBA,wBAqBA,6CACA,oBAtBA,2BA0BA,oBACA,aACA,gBACA,gDAEA,wCA/BA,+CAiCI,QAlCJ,SAkCA,sKACA,oBADA,cACA,EADA,gBAEA,SAFA,wFC3D+U,I,wBCQ3UC,EAAY,eACd,EACA,EACAxB,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E","file":"js/login.5bb5baea.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=683ebc00&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=683ebc00&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.message)?_c('div',[_c('h5',{staticClass:\"text-center text-blue-grey-8\"},[_vm._v(_vm._s(_vm.message))])]):_c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\n\nimport mixin from './spinner-mixin.js'\n\nexport default Vue.extend({\n  name: 'QSpinnerGears',\n\n  mixins: [mixin],\n\n  render (h) {\n    return h('svg', {\n      staticClass: 'q-spinner',\n      class: this.classes,\n      on: { ...this.qListeners },\n      attrs: {\n        focusable: 'false' /* needed for IE11 */,\n        'width': this.cSize,\n        'height': this.cSize,\n        'viewBox': '0 0 100 100',\n        'preserveAspectRatio': 'xMidYMid',\n        'xmlns': 'http://www.w3.org/2000/svg'\n      }\n    }, [\n      h('g', {\n        attrs: {\n          'transform': 'translate(-20,-20)'\n        }\n      }, [\n        h('path', {\n          attrs: {\n            'd': 'M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z',\n            'fill': 'currentColor'\n          }\n        }, [\n          h('animateTransform', {\n            attrs: {\n              'attributeName': 'transform',\n              'type': 'rotate',\n              'from': '90 50 50',\n              'to': '0 50 50',\n              'dur': '1s',\n              'repeatCount': 'indefinite'\n            }\n          })\n        ])\n      ]),\n      h('g', {\n        attrs: {\n          'transform': 'translate(20,20) rotate(15 50 50)'\n        }\n      }, [\n        h('path', {\n          attrs: {\n            'd': 'M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z',\n            'fill': 'currentColor'\n          }\n        }, [\n          h('animateTransform', {\n            attrs: {\n              'attributeName': 'transform',\n              'type': 'rotate',\n              'from': '0 50 50',\n              'to': '90 50 50',\n              'dur': '1s',\n              'repeatCount': 'indefinite'\n            }\n          })\n        ])\n      ])\n    ])\n  }\n})\n","<template>\n  <div v-if=\"message\">\n    <h5 class=\"text-center text-blue-grey-8\">{{ message }}</h5>\n  </div>\n  <div v-else></div>\n</template>\n\n<script>\nimport { signIn, usersCollection } from \"../firebase\";\nimport { QSpinnerGears } from \"quasar\";\n\nexport default {\n  data() {\n    return {\n      message: null,\n    };\n  },\n\n  mounted() {\n    this.$q.loading.show({\n      spinner: QSpinnerGears,\n    });\n    this.login();\n  },\n\n  methods: {\n    async login() {\n      const creds = await signIn();\n      const user = {\n        loginEmail: creds.user.email,\n        displayName: creds.user.displayName,\n        uid: creds.user.uid,\n      };\n\n      const userSnap = await usersCollection.doc(user.uid).get();\n\n      if (!userSnap.exists) {\n        await usersCollection.doc(user.uid).set(user);\n        this.message =\n          \"You've successfully registered. Once your account is approved you'll be able to use the platform\";\n        this.$q.loading.hide();\n        return;\n      }\n\n      const firebaseUser = await this.getUser(user.uid);\n\n      if (!firebaseUser.isApproved) {\n        this.message = \"Your account is pending approval\";\n        this.$q.loading.hide();\n        return;\n      }\n\n      this.$q.loading.hide();\n      this.$q.notify({\n        type: \"positive\",\n        message: `Welcome back ${firebaseUser.displayName}`,\n      });\n      this.$router.push(`/users/${firebaseUser.uid}`);\n    },\n    async getUser(uid) {\n      const snap = await usersCollection.doc(uid).get();\n      return await snap.data();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.section--login {\n  border-right: 2px solid rgba(0, 0, 0, 0.2);\n  height: 100vh;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=683ebc00&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=683ebc00&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"683ebc00\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}